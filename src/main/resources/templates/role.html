<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>展示页面</title>
    <link rel="stylesheet"  th:href="@{bootstrap/css/bootstrap/3.3.6/bootstrap.css}">
</head>
<body>
<center>
    <p>
    <form th:action="@{showRoles}" th:method="get">
        角色名称:<!--/*@thymesVar id="rname" type=""*/-->
        <input th:type="text" th:name="rname" th:value="${rname}"/>
        <input th:type="submit" th:value="搜素"/>
    </form>
    </p>
</center>
<table class="table table-hover">
    <tr>
        <th>角色id</th>
        <th>角色名称</th>
        <th>操作</th>
    </tr>
    <tr th:each="role:${roles}">
        <td th:text="${role.rid}"></td>
        <td th:text="${role.rname}"></td>
        <td>
            <!--通过thymeleaf的attr设置提交的路径-->
            <button th:attr="del_uri=@{'/del/'+${role.getRid()}}" class="btn btn-sm btn-danger deleteBtn">删除</button>

            <a th:href="@{'/del/'+${role.getRid()}}">删除</a>
        </td>
    </tr>
 </table>

<form id="deleteEmpForm" method="post">
    <!--设置请求为delete方式-->
    <input type="hidden" name="_method" th:value="delete">
</form>
<script type="text/javascript"  th:src="@{bootstrap/js/jquery/2.0.0/jquery.min.js}"></script>
<script>
    $(".deleteBtn").click(function () {
        // 删除当前员工的
        $("#deleteEmpForm").attr("action",$(this).attr("del_uri")).submit();
        return false;
    });
</script>

</body>
</html>